<!DOCTYPE html>
<html>
<head><!-- HTMLã®ãƒ˜ãƒƒãƒ€ -- (*1) -->
    <meta charset="UTF-8">
    <title>ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã§å‹è² </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        h3 { color: white; background-color: blue; }
        body { text-align: center; font-size: 2.5em; }
        button { font-size: 1.0em; width: 7em; margin: 0.1em; }
    </style>
</head>
<body><!-- HTMLã®æœ¬ä½“ -- (*2) -->
    <h3>ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã§å‹è² </h3>
    <div>
        <div id="disp"></div><hr>
        <div><!-- ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®æ‰‹ã®ãƒœã‚¿ãƒ³ --- (*3) -->
            <button mpy-click="check_goo">âœŠã‚°ãƒ¼</button>
            <button mpy-click="check_choki">âœŒãƒãƒ§ã‚­</button>
            <button mpy-click="check_paa">ğŸ–ãƒ‘ãƒ¼</button>
        </div>
    </div>
</body>
<!-- PyScriptã®å–ã‚Šè¾¼ã¿ã¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ  -->
<script type="module" src="https://pyscript.net/releases/2025.8.1/core.js"></script>
<script type="mpy">
    import random
    from pyscript import document

    # ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®æ‰‹ã‚’è¡¨ã™å®šæ•°ã‚’å®šç¾© --- (*4)
    GOO = 0  # ã‚°ãƒ¼ã‚’è¡¨ç¾ã™ã‚‹å®šæ•°
    CHOKI = 1  # ãƒãƒ§ã‚­ã‚’è¡¨ç¾ã™ã‚‹å®šæ•°
    PAA = 2  # ãƒ‘ãƒ¼ã‚’è¡¨ç¾ã™ã‚‹å®šæ•°
    # æ‰‹ã‹ã‚‰æ–‡å­—åˆ—ã¸ã®å¤‰æ›ãƒªã‚¹ãƒˆ --- (*5)
    HANDS = ["âœŠã‚°ãƒ¼", "âœŒãƒãƒ§ã‚­", "ğŸ–ãƒ‘ãƒ¼"]
    # å‹æ•—åˆ¤å®šãƒªã‚¹ãƒˆ --- (*6)
    RESULTS = ["ã‚ã„ã“", "ğŸ˜Šå‹ã¡", "ğŸ˜­è² ã‘"]

    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®æ‰‹ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ --- (*7)
    def check_goo(event):
        check(GOO)  # å…±é€šé–¢æ•°checkã‚’å‘¼ã³å‡ºã™
    def check_choki(event):
        check(CHOKI)  # å…±é€šé–¢æ•°checkã‚’å‘¼ã³å‡ºã™
    def check_paa(event):
        check(PAA)  # å…±é€šé–¢æ•°checkã‚’å‘¼ã³å‡ºã™

    # ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®åˆ¤å®šã‚’è¡Œã†é–¢æ•° --- (*8)
    def check(user):
        # ç›¸æ‰‹ã®æ‰‹ã‚’æ±ºã‚ã‚‹ --- (*9)
        com = random.randint(0, 2)
        # å‹è² åˆ¤å®šã™ã‚‹ --- (*10)
        result = janken(user, com)
        # çµæœã‚’è¡¨ç¤º --- (*11)
        disp = document.getElementById("disp")
        disp.innerHTML = (
            f"ç›¸æ‰‹: {HANDS[com]}<br>"
            f"è‡ªåˆ†: {HANDS[user]}<br><hr>"
            f"åˆ¤å®š: {RESULTS[result]}"
        )

    # ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã®å‹æ•—ã‚’åˆ¤å®šã™ã‚‹é–¢æ•° --- (*12)
    def janken(user, com):
        # ã‚ã„ã“ã®å ´åˆ
        if user == com:
            return 0
        # ãƒ¦ãƒ¼ã‚¶ã®å‹ã¡ãƒ‘ã‚¿ãƒ¼ãƒ³
        if (user == GOO) and (com == CHOKI):
            return 1
        if (user == CHOKI) and (com == PAA):
            return 1
        if (user == PAA) and (com == GOO):
            return 1
        # ãã‚Œä»¥å¤–ã¯è² ã‘
        return 2
</script>
</html>